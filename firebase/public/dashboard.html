<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/11.6.0/firebase-auth-compat.js"></script>
</head>

<body>
    <p style="display: flex; align-items: center; justify-content: space-between;"> <span> welcome <span id="userval">
                loading.... </span></span> <button onclick="settings()">settings</button> <button onclick="logOut()">log
            out</button></p>

</body>

</html>
<script>

    const firebaseConfig = {
        apiKey: "AIzaSyDlb6UCkNRrFzkUXvFgoRKQLGuDrrKfuNE",
        authDomain: "march-9ad02.firebaseapp.com",
        projectId: "march-9ad02",
        storageBucket: "march-9ad02.firebasestorage.app",
        messagingSenderId: "479210029855",
        appId: "1:479210029855:web:ba10cafdfef4bab0f1262a"
    };


    const app = firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth()

    function checkUser() {
        auth.onAuthStateChanged((user) => {
            if (user) {
                var uid = user.uid;
                console.log(user);
                userval.innerHTML = user.displayName
                // ...
            } else {
                window.location.href = "login.html"
                // User is signed out
                // ...
            }
        });
    }

    checkUser()

    function logOut() {
        auth.signOut().then(() => {
            alert("Sign-out successful.")
            window.location.href = "login.html"
        }).catch((error) => {
            alert(error.message)
            // An error happened.
        });
    }

    function settings() {
        window.location.href = "settings.html"
    }


</script>